## 1. 製品概要

Mac環境向けのMP4からMP3への音声変換GUIアプリケーション。ドラッグ＆ドロップ操作で簡単に動画ファイルの音声を抽出し、MP3形式で保存できる。

- 問題の解決：動画ファイルから音声のみを簡単に抽出したいユーザー向け
- 対象ユーザー：Podcast作成者、音楽愛好家、動画編集者、一般Macユーザー
- 製品の価値：手軽な操作性と高品質な音声変換を提供

## 2. コア機能

### 2.1 ユーザーロール

| ロール | 登録方法 | コア権限 |
|------|----------|----------|
| 一般ユーザー | 不要（アプリ起動時に自動利用） | MP4ファイルの変換、保存先選択、進捗確認 |

### 2.2 機能モジュール

本アプリケーションは以下の主要画面で構成されます：

1. **メイン画面**：ドラッグ＆ドロップエリア、変換進捗表示、保存先選択
2. **設定画面**：出力品質設定、ファイル命名規則、変換オプション

### 2.3 ページ詳細

| ページ名 | モジュール名 | 機能説明 |
|-----------|-------------|-------------|
| メイン画面 | ドラッグ＆ドロップエリア | MP4ファイルをドラッグ＆ドロップで受け取り、ファイルリストに表示 |
| メイン画面 | 保存先選択 | ファイル選択ダイアログで出力ディレクトリを選択、パスを表示 |
| メイン画面 | 変換進捗バー | 各ファイルの変換進捗を個別に表示、全体の進捗も表示 |
| メイン画面 | 変換実行ボタン | 選択されたファイルの変換を開始、一括変換に対応 |
| メイン画面 | ステータス表示 | 変換成功/失敗のメッセージ、処理速度、残り時間を表示 |
| 設定画面 | 音質設定 | ビットレート（128kbps/192kbps/320kbps）を選択 |
| 設定画面 | ファイル命名 | 元ファイル名を保持またはカスタム接尾辞を追加 |
| 設定画面 | 変換後処理 | 元ファイルの削除、出力フォルダの自動開設を設定 |

## 3. コアプロセス

### 通常ユーザーフロー

1. アプリケーションを起動
2. MP4ファイルをウィンドウにドラッグ＆ドロップ
3. 「保存先を選択」ボタンをクリックして出力ディレクトリを指定
4. 必要に応じて設定画面で変換オプションを調整
5. 「変換開始」ボタンをクリック
6. 進捗バーで変換状況を確認
7. 変換完了後、出力フォルダを自動的に開く

```mermaid
graph TD
    A[アプリ起動] --> B[メイン画面表示]
    B --> C{MP4ファイルをドロップ}
    C -->|成功| D[ファイルリスト表示]
    C -->|失敗| E[エラーメッセージ表示]
    D --> F[保存先選択]
    F --> G{変換開始}
    G -->|成功| H[進捗表示]
    H --> I{変換完了}
    I -->|成功| J[完了通知]
    I -->|失敗| K[エラー通知]
    J --> L[出力フォルダ開設]
```

## 4. ユーザーインターフェースデザイン

### 4.1 デザインスタイル

- **プライマリカラー**：#007AFF（macOSの標準青）
- **セカンダリカラー**：#8E8E93（グレー）
- **ボタンスタイル**：角丸（8px）、フラットデザイン、ホバーエフェクト
- **フォント**：San Francisco（macOSシステムフォント）、優先サイズ：14px（本文）、16px（見出し）
- **レイアウトスタイル**：カードベース、左右分割（ドロップエリアとコントロール）
- **アイコンスタイル**：SF Symbols（macOS標準アイコン）、シンプルで直感的

### 4.2 ページデザイン概要

| ページ名 | モジュール名 | UI要素 |
|-----------|-------------|-------------|
| メイン画面 | ドラッグ＆ドロップエリア | 薄いグレーの破線枠、中央に「MP4ファイルをドロップ」アイコン、背景は半透明の白 |
| メイン画面 | ファイルリスト | 白背景、行ごとに薄い区切り線、ファイル名・サイズ・変換状態を表示 |
| メイン画面 | 進捗バー | macOS標準の青いプログレスバー、滑らかなアニメーション、パーセンテージ表示 |
| メイン画面 | コントロールボタン | 角丸の青いボタン、白色テキスト、クリック時に色が濃くなる |
| 設定画面 | 設定パネル | 白背景のカード、各設定項目にアイコン付き、スイッチはiOSスタイル |

### 4.3 レスポンシブ対応

- **デスクトップファースト**：主にMacの画面サイズを想定
- **ウィンドウサイズ**：最小800x600px、最大フルスクリーン対応
- **タッチ操作**：対応不要（Macはマウス/トラックパッド操作前提）